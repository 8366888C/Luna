---
import { getCollection } from "astro:content";
import PostCard from "./misc/PostCard.astro";
const posts = await getCollection("blogs");
---

<section>
  <hr
    class="border-secondary-light dark:border-secondary-dark mt-12 mb-8 opacity-50"
  />
  <h2 class="text-3xl">Recent Posts</h2>
  <ul class="m-8 mb-16 space-y-8">
    {
      posts.map((post: any) => {
        return (
          <li>
            <PostCard
              title={post.data.title}
              date={post.data.pubDate
                .toLocaleString("en-GB", {
                  day: "numeric",
                  month: "short",
                  year: "numeric",
                })
                .slice(0, 11)}
              description={post.data.description}
              url={`/posts/${post.id}`}
            />
          </li>
        );
      })
    }
  </ul>
</section>
