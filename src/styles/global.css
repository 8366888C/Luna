@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  ::-webkit-scrollbar {
    width: 5px;
  }

  ::-webkit-scrollbar-track {
    background-color: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background-color: color-mix(in srgb, var(--color-text) 80%, transparent);
    border-radius: 9999px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: red;
  }

  :root {
    --z-old: 1;
    --z-new: 2;
    --color-bg: white;
    --color-text: black;
  }

  .dark {
    --z-old: 2;
    --z-new: 1;
    --color-bg: black;
    --color-text: white;
  }

  body {
    background-color: var(--color-bg);
    color: var(--color-text);
    transition:
      background-color 0.3s,
      color 0.3s;
  }

  * {
    @apply transition-all duration-100 ease-in-out;
  }

  body {
    @apply bg-[var(--color-bg)] text-[var(--color-text)] selection:bg-red-500 selection:text-white;
  }

  .dark body {
    @apply bg-[var(--color-bg)] text-[var(--color-text)] selection:bg-red-500 selection:text-black;
  }
}

::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root) {
  z-index: var(--z-old);
}
::view-transition-new(root) {
  z-index: var(--z-new);
}
