---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import PostCard from "../../components/misc/PostCard.astro";
const allPosts = await getCollection("blogs");
---

<BaseLayout
  title="Posts"
  description="All posts of Luna"
  image="./favicon.png"
  url="https://lunakit.netlify.app/posts"
>
  <main class="mx-13">
    <h1 class="text-6xl">Posts</h1>
    <ul class="m-8 space-y-8">
      {
        allPosts.map((post: any) => {
          return (
            <li>
              <PostCard
                title={post.data.title}
                date={post.data.pubDate
                  .toLocaleString("en-GB", {
                    day: "numeric",
                    month: "short",
                    year: "numeric",
                  })
                  .slice(0, 11)}
                description={post.data.description}
                url={`/posts/${post.id}`}
              />
            </li>
          );
        })
      }
    </ul>
  </main>
</BaseLayout>
